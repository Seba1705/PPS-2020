{"version":3,"sources":["./src/app/gallery/list/list.page.html","./src/app/gallery/list/list.module.ts","./src/app/gallery/list/list.page.scss","./src/app/gallery/list/list.page.ts"],"names":[],"mappings":"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","file":"gallery-list-list-module-es2015.js","sourcesContent":["module.exports = \"<ion-header no-border no-shadow >\\n  <ion-toolbar translucent mode=\\\"ios\\\">\\n      <div class=\\\"avatar\\\" slot=\\\"end\\\">\\n        <img [src]=\\\"user ? user.imageUrl : 'Cargando...'\\\" (click)=\\\"presentAlertLogout()\\\"> \\n      </div>\\n      <ion-title><h4>MI <span style=\\\"color: #b2c6fd;\\\"> EDIFICIO</span></h4></ion-title> \\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n              <ion-back-button defaultHref=\\\"/gallery\\\"></ion-back-button>\\n          </ion-buttons>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<div class=\\\"blank\\\" *ngIf=\\\"spinner\\\">\\n  <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n</div>\\n\\n<ion-content fullscreen>\\n\\n  <ion-grid *ngIf=\\\"isLoading\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\" text-center>\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid *ngIf=\\\"!isLoading && (!posts || posts.length <= 0)\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\" text-center>\\n        <p>Todavia no se han cargado fotos.</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid *ngIf=\\\"!isLoading && posts.length > 0\\\">\\n\\n    <ion-row class=\\\"featured\\\">\\n      <ion-col size=\\\"12\\\">\\n        <div (click)= \\\"navCtrl.navigateForward(['/details', featured.id])\\\">\\n        <img class=\\\"featured-img\\\" [src]=\\\"featured.imageUrl\\\">\\n        <div class=\\\"bottom-line\\\">\\n          <p>\\n            Más votada\\n          </p>\\n          <ion-item  class=\\\"top-line\\\" lines=\\\"none\\\">          \\n        <ion-icon class=\\\"corazon\\\" *ngIf=\\\"!votada(featured)\\\" slot=\\\"end\\\" src=\\\"assets/img/heart.svg\\\"></ion-icon>\\n        <ion-icon class=\\\"corazon\\\" *ngIf=\\\"votada(featured)\\\"  slot=\\\"end\\\" src=\\\"assets/img/heart-full.svg\\\"></ion-icon>\\n            <ion-label text-right>\\n              {{featured.votes.length}}\\n            </ion-label>\\n          </ion-item>\\n        </div>\\n      </div>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row>\\n      <div class=\\\"pins\\\">\\n      <div class=\\\"pin\\\" size=\\\"6\\\" *ngFor=\\\"let post of posts\\\">\\n          <div  [routerLink]=\\\"['/', 'details', post.id]\\\">\\n              <img [src]=\\\"post.imageUrl\\\">\\n          </div>      \\n      <div class=\\\"info\\\">\\n        <ion-item lines=\\\"none\\\">          \\n        <ion-icon class=\\\"corazon\\\" *ngIf=\\\"!votada(post)\\\" slot=\\\"end\\\" src=\\\"assets/img/heart.svg\\\"></ion-icon>\\n        <ion-icon class=\\\"corazon\\\" *ngIf=\\\"votada(post)\\\" slot=\\\"end\\\" src=\\\"assets/img/heart-full.svg\\\"></ion-icon>\\n          <ion-label text-right *ngIf=\\\"post.votes && post.votes.length > 0\\\">\\n            {{post.votes.length}}\\n          </ion-label>\\n        </ion-item>\\n      </div>\\n    </div>\\n  </div>\\n    </ion-row>\\n\\n<!--end nuevo-->\\n\\n    <!--<ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"8\\\" offset-sm=\\\"2\\\" text-center>\\n        <ion-virtual-scroll\\n        [items]=\\\"posts\\\"\\n        approxItemHeight=\\\"70px\\\"\\n      >\\n          <ion-item\\n            [routerLink]=\\\"['/', 'details', post.id]\\\"\\n            detail\\n            *virtualItem=\\\"let post\\\"\\n          >\\n            <ion-thumbnail slot=\\\"start\\\">\\n              <ion-img [src]=\\\"post.imageUrl\\\"></ion-img>\\n            </ion-thumbnail>\\n            <ion-label>\\n              <h2>{{ post.title }}</h2>\\n              <p style=\\\"font-weight: 800\\\">{{ post.date ? (post.date | date: 'medium') : '' }}</p>\\n            </ion-label>\\n            <ion-badge *ngIf=\\\"post.votes && post.votes.length > 0\\\" slot=\\\"end\\\" mode=\\\"ios\\\">{{post.votes.length}}</ion-badge>\\n          </ion-item>\\n        </ion-virtual-scroll>\\n      </ion-col>\\n    </ion-row>-->\\n\\n\\n  </ion-grid>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button [routerLink]=\\\"['/', 'new-post', type]\\\">\\n      <ion-icon name=\\\"camera\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListPage } from './list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","module.exports = \"ion-card {\\n  border-radius: 5px;\\n}\\n\\nion-thumbnail {\\n  --border-radius: 8px;\\n}\\n\\n.bottom-line {\\n  position: absolute;\\n  color: white;\\n  --background: transparent;\\n  bottom: 0;\\n  width: 100%;\\n}\\n\\n.top-line {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  color: white;\\n  --background: transparent;\\n  width: 100%;\\n}\\n\\n.top-line .line {\\n  display: block;\\n  width: 50%;\\n  height: 3px;\\n  background: #fff;\\n  margin-left: 7%;\\n}\\n\\n.top-line ion-icon, .bottom-line ion-icon {\\n  color: #ff4040;\\n  right: 0;\\n  margin-left: 5px;\\n}\\n\\n.top-line ion-label, .bottom-line ion-label {\\n  text-transform: uppercase;\\n  font-weight: 700;\\n  letter-spacing: 5px;\\n  text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.6);\\n}\\n\\n.bottom-line p {\\n  text-transform: uppercase;\\n  font-weight: 700;\\n  letter-spacing: 5px;\\n  font-size: 16px;\\n  margin-left: 20px;\\n  text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.6);\\n}\\n\\nion-back-button {\\n  background: white;\\n  border-radius: 10px;\\n  margin-left: 5px;\\n}\\n\\nion-toolbar {\\n  margin-bottom: -10px;\\n}\\n\\n.scroll-content {\\n  padding-top: 0px !important;\\n}\\n\\n.pins {\\n  -webkit-column-count: 2;\\n     -moz-column-count: 2;\\n          column-count: 2;\\n  margin: 0 15px;\\n}\\n\\n.pin img {\\n  border-radius: 5px;\\n}\\n\\n.pin {\\n  margin-bottom: 10px;\\n}\\n\\n.info {\\n  color: white;\\n  margin: -30% 0 8% 5%;\\n}\\n\\n.info ion-icon {\\n  color: #ff4040;\\n  margin-left: 5px;\\n}\\n\\n.info ion-item {\\n  --background:transparent;\\n}\\n\\n.info ion-label {\\n  color: white;\\n  font-weight: 700;\\n}\\n\\n.avatar img {\\n  border-radius: 10px;\\n  height: 47px;\\n  width: 47px;\\n  margin-right: 5px;\\n  margin-top: 4px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\nion-fab-button {\\n  --background: #3e3e3e !important;\\n}\\n\\nion-title ion-icon {\\n  font-size: 5.5rem;\\n  margin-top: 5px;\\n}\\n\\n.blank {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #ffffff;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  z-index: 9;\\n  position: absolute;\\n}\\n\\n.featured {\\n  margin: 10px 10px 5px;\\n}\\n\\n.featured-img {\\n  border-radius: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2FsbGVyeS9saXN0L0M6XFxVc2Vyc1xcY2FtYXJcXERvY3VtZW50c1xcUFBTXFxiaWxkaW4vc3JjXFxhcHBcXGdhbGxlcnlcXGxpc3RcXGxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9nYWxsZXJ5L2xpc3QvbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksb0JBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7QUNDSjs7QURDQTtFQUNJLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0FDRUo7O0FEQUE7RUFDSSxjQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNHSjs7QUREQTtFQUNJLGNBQUE7RUFDQSxRQUFBO0VBQ0EsZ0JBQUE7QUNJSjs7QURGQTtFQUNJLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLDJDQUFBO0FDS0o7O0FERkE7RUFDSSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSwyQ0FBQTtBQ0tKOztBREhBO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FDTUo7O0FESkE7RUFDSSxvQkFBQTtBQ09KOztBRExBO0VBQ0ksMkJBQUE7QUNRSjs7QUROQTtFQUNJLHVCQUFBO0tBQUEsb0JBQUE7VUFBQSxlQUFBO0VBQ0EsY0FBQTtBQ1NKOztBRFBBO0VBQ0ksa0JBQUE7QUNVSjs7QURSQTtFQUNJLG1CQUFBO0FDV0o7O0FEVEE7RUFDSSxZQUFBO0VBQ0Esb0JBQUE7QUNZSjs7QURWQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQ2FKOztBRFhBO0VBQ0ksd0JBQUE7QUNjSjs7QURaQTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtBQ2VKOztBRGJBO0VBQ0ksbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUNnQko7O0FEYkE7RUFDSSxnQ0FBQTtBQ2dCSjs7QURiQTtFQUNJLGlCQUFBO0VBQ0EsZUFBQTtBQ2dCSjs7QURiQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtBQ2dCSjs7QURiQTtFQUNJLHFCQUFBO0FDZ0JKOztBRGJBO0VBQ0ksa0JBQUE7QUNnQkoiLCJmaWxlIjoic3JjL2FwcC9nYWxsZXJ5L2xpc3QvbGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG5pb24tdGh1bWJuYWlsIHtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDhweDtcbn1cblxuLmJvdHRvbS1saW5le1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3R0b206IDA7XG4gICAgd2lkdGg6IDEwMCU7XG59XG4udG9wLWxpbmV7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICB3aWR0aDogMTAwJTtcbn1cbi50b3AtbGluZSAubGluZXtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogNTAlO1xuICAgIGhlaWdodDogM3B4O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgbWFyZ2luLWxlZnQ6IDclO1xufVxuLnRvcC1saW5lIGlvbi1pY29uLCAuYm90dG9tLWxpbmUgaW9uLWljb257XG4gICAgY29sb3I6ICNmZjQwNDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbi50b3AtbGluZSBpb24tbGFiZWwsIC5ib3R0b20tbGluZSBpb24tbGFiZWx7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGxldHRlci1zcGFjaW5nOiA1cHg7XG4gICAgdGV4dC1zaGFkb3c6IDBweCAycHggNXB4IHJnYmEoMCwwLDAsMC42KTtcbn1cblxuLmJvdHRvbS1saW5lIHB7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGxldHRlci1zcGFjaW5nOiA1cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xuICAgIHRleHQtc2hhZG93OiAwcHggMnB4IDVweCByZ2JhKDAsMCwwLDAuNik7XG59XG5pb24tYmFjay1idXR0b257XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xufVxuaW9uLXRvb2xiYXJ7XG4gICAgbWFyZ2luLWJvdHRvbTogLTEwcHg7XG59XG4uc2Nyb2xsLWNvbnRlbnQge1xuICAgIHBhZGRpbmctdG9wOiAwcHggIWltcG9ydGFudDtcbn1cbi5waW5ze1xuICAgIGNvbHVtbi1jb3VudDogMjtcbiAgICBtYXJnaW46IDAgMTVweDtcbn1cbi5waW4gaW1ne1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cbi5waW57XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbi5pbmZve1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtYXJnaW46IC0zMCUgMCA4JSA1JTtcbn1cbi5pbmZvIGlvbi1pY29ue1xuICAgIGNvbG9yOiAjZmY0MDQwO1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG4uaW5mbyBpb24taXRlbXtcbiAgICAtLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XG59XG4uaW5mbyBpb24tbGFiZWx7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG59XG4uYXZhdGFyIGltZ3tcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGhlaWdodDogNDdweDtcbiAgICB3aWR0aDogNDdweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICBtYXJnaW4tdG9wOiA0cHg7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbmlvbi1mYWItYnV0dG9uIHtcbiAgICAtLWJhY2tncm91bmQ6ICMzZTNlM2UgIWltcG9ydGFudDsgXG59XG5cbmlvbi10aXRsZSBpb24taWNvbntcbiAgICBmb250LXNpemU6IDUuNXJlbTtcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5ibGFua3tcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgei1pbmRleDogOTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbi5mZWF0dXJlZHtcbiAgICBtYXJnaW46IDEwcHggMTBweCA1cHg7XG59XG5cbi5mZWF0dXJlZC1pbWd7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufSIsImlvbi1jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG5pb24tdGh1bWJuYWlsIHtcbiAgLS1ib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbi5ib3R0b20tbGluZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY29sb3I6IHdoaXRlO1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4udG9wLWxpbmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi50b3AtbGluZSAubGluZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogNTAlO1xuICBoZWlnaHQ6IDNweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgbWFyZ2luLWxlZnQ6IDclO1xufVxuXG4udG9wLWxpbmUgaW9uLWljb24sIC5ib3R0b20tbGluZSBpb24taWNvbiB7XG4gIGNvbG9yOiAjZmY0MDQwO1xuICByaWdodDogMDtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuLnRvcC1saW5lIGlvbi1sYWJlbCwgLmJvdHRvbS1saW5lIGlvbi1sYWJlbCB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGxldHRlci1zcGFjaW5nOiA1cHg7XG4gIHRleHQtc2hhZG93OiAwcHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuNik7XG59XG5cbi5ib3R0b20tbGluZSBwIHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgbGV0dGVyLXNwYWNpbmc6IDVweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbiAgdGV4dC1zaGFkb3c6IDBweCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC42KTtcbn1cblxuaW9uLWJhY2stYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgbWFyZ2luLWJvdHRvbTogLTEwcHg7XG59XG5cbi5zY3JvbGwtY29udGVudCB7XG4gIHBhZGRpbmctdG9wOiAwcHggIWltcG9ydGFudDtcbn1cblxuLnBpbnMge1xuICBjb2x1bW4tY291bnQ6IDI7XG4gIG1hcmdpbjogMCAxNXB4O1xufVxuXG4ucGluIGltZyB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLnBpbiB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5pbmZvIHtcbiAgY29sb3I6IHdoaXRlO1xuICBtYXJnaW46IC0zMCUgMCA4JSA1JTtcbn1cblxuLmluZm8gaW9uLWljb24ge1xuICBjb2xvcjogI2ZmNDA0MDtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuLmluZm8gaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XG59XG5cbi5pbmZvIGlvbi1sYWJlbCB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbn1cblxuLmF2YXRhciBpbWcge1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBoZWlnaHQ6IDQ3cHg7XG4gIHdpZHRoOiA0N3B4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgbWFyZ2luLXRvcDogNHB4O1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cblxuaW9uLWZhYi1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6ICMzZTNlM2UgIWltcG9ydGFudDtcbn1cblxuaW9uLXRpdGxlIGlvbi1pY29uIHtcbiAgZm9udC1zaXplOiA1LjVyZW07XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLmJsYW5rIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHotaW5kZXg6IDk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLmZlYXR1cmVkIHtcbiAgbWFyZ2luOiAxMHB4IDEwcHggNXB4O1xufVxuXG4uZmVhdHVyZWQtaW1nIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufSJdfQ== */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DatabaseService } from 'src/app/services/database.service';\nimport { AuthenticateService } from 'src/app/services/authentication.service';\nimport { NavController, AlertController, ToastController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { Post } from 'src/app/models/post';\nimport { User } from 'src/app/models/user';\nimport { Plugins } from '@capacitor/core';\n\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.page.html',\n  styleUrls: ['./list.page.scss'],\n})\nexport class ListPage implements OnInit, OnDestroy {\n  private postsSub: Subscription;\n  isLoading = false;\n  posts: Post[] = [];\n  featured: Post;\n  type = '';\n  user: User;\n  voted = false;\n  post: Post;\n  spinner = true;\n\n  constructor( private database: DatabaseService,\n               private auth: AuthenticateService,\n               public navCtrl: NavController,\n               private route: ActivatedRoute,\n               public alertController: AlertController,\n               public toastController: ToastController ) { }\n\n  ngOnInit() {\n    // this.user = JSON.parse(localStorage.getItem('user-bd'));\n    Plugins.Storage.get({ key: 'user-bd' }).then(\n      (userData) => {\n        this.user = JSON.parse(userData.value);\n      }, () => {\n        this.navCtrl.navigateBack('');\n      }\n    );\n\n    this.route.paramMap.subscribe(paramMap => {\n      if (!paramMap.has('type')) {\n        this.navCtrl.navigateBack('/gallery');\n        return;\n      }\n      this.isLoading = true;\n      this.type = paramMap.get('type');\n      this.postsSub = this.database.TraerTodos('picbild-posts').subscribe(posts => {\n        this.posts = posts.filter(p => p.type === this.type).sort((a, b) => b.date.localeCompare(a.date));\n        console.log(this.posts);\n\n        this.featured = this.posts.reduce((prev, current) => {\n          return (prev.votes && prev.votes.length ? prev.votes.length : 0) >\n           (current.votes && current.votes.length ? current.votes.length : 0) ? prev : current;\n        });\n        if ( !this.featured.votes.length || this.featured.votes.length === 0 ) {\n          this.featured = this.posts[0];\n        }\n        this.isLoading = false;\n        setTimeout(() => this.spinner = false, 2000);\n      });\n    });\n  }\n\n\n  votada (item: Post){\n    let votada = (item.votes || item.votes.length < 1) ? item.votes.includes(this.user.id) : false;\n    console.log(votada);\n    return votada;\n  }\n\n  logout() {\n    this.auth.logoutUser()\n    .then(res => {\n      console.log(res);\n      this.navCtrl.navigateBack('');\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  }\n\n  async presentAlertLogout() {\n    const alert = await this.alertController.create({\n      header: 'Cerrar sesión',\n      message: '¿Quieres cerrar sesión?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: 'OK',\n          handler: () => {\n            this.logout();\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  ngOnDestroy() {\n    if (this.postsSub) {\n      this.postsSub.unsubscribe();\n    }\n  }\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'Gracias por tu voto!',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n\n}\n"],"sourceRoot":""}